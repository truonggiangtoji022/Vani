/*!
* Me-Ticket.js v_1.0.1-rc.0
* (c) 2022 The ME-Team Authors
* https://me-ticket.com
*/"use strict";var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ticketByMeTeam(e){var t=new PE,n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var l=a.value,c=t.all(l),u=t.one(l);if(c.length>0){var s=!0,d=!1,f=void 0;try{for(var y,h=c[Symbol.iterator]();!(s=(y=h.next()).done);s=!0){var v=y.value;t.init(v)}}catch(e){d=!0,f=e}finally{try{!s&&h.return&&h.return()}finally{if(d)throw f}}}null!==u&&t.init(u)}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return new RW}var PE=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"all",value:function(e){return document.querySelectorAll("."+e)}},{key:"one",value:function(e){return document.getElementById(e)}},{key:"init",value:function(e){e.classList.contains(AT.pi)||e.classList.add(AT.pi)}}],[{key:"gPI",value:function(){return[].slice.call(document.querySelectorAll("."+AT.pi))}}]),e}(),RW=function(){function e(){_classCallCheck(this,e);var t=AT.rid+"_"+AT.an;this._ra=EM.ce(t)?EM.ge(t):(new AN).ra(),this._rf=EM.ce(AT.rid)?EM.ge(AT.rid):(new RF).get(),this._build()}return _createClass(e,[{key:"_build",value:function(){var e=this,t=document.title?document.title:"",n=document.querySelector('meta[name="description"]'),r=null!==n&&void 0!==n.content?n.content:"";EM.ce(AT.rid)?this._wait(t,r):(this._ra.appendChild(this._rf),document.body.append(this._ra),this._rf.onload=function(){EM.sa(e._rf,{frameLoad:1}),e._load(t,r)})}},{key:"_load",value:function(e,t){var n=new MessageChannel;n.port1.onmessage=function(e){var t=e.data;n.port1.close(),new EP(Object.values(t.r))},this._rf.contentWindow.postMessage({f:"gr",e:null,t:e.trim(),d:t.trim(),u:encodeURI(window.location.href),p:1},"*",[n.port2])}},{key:"_wait",value:function(e,t){var n=this;null!==this._rf.getAttribute("frame-load")?this._load(e,t):setTimeout(function(){n._wait(e,t)},2)}}]),e}(),EP=function(){function e(t){_classCallCheck(this,e),e._key=0,this._rl=t,this._init()}return _createClass(e,[{key:"_init",value:function(){var e=this;if(PE.gPI().length>0){var t=function(){var t=window.innerHeight+.1*window.innerHeight,n=-.75*window.innerHeight,r=!0,i=!1,a=void 0;try{for(var o,l=PE.gPI()[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var c=o.value;if(c.getBoundingClientRect().top<=t&&c.getBoundingClientRect().top>=n){c.classList.remove(AT.pi);var u=(new TF).get(e._rl),s=(new AN).ta(u.id);s.appendChild(u),document.querySelector('style[x-phase="'+AT.ts+'"]')||c.appendChild((new TS).style(1e3)),c.appendChild(s)}}}catch(e){i=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}};document.addEventListener("scroll",t),window.addEventListener("resize",t),window.addEventListener("orientationchange",t),t()}}}],[{key:"key",get:function(){return e._key++}}]),e}(),AN=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ra",value:function(){var e=document.createElement("ins");return e.id=AT.rid+"_"+AT.an,EM.sp(e,{display:"none"},!0),e}},{key:"ta",value:function(e){var t=document.createElement("ins");return t.id=e+"_"+AT.an,EM.sc(t,[AT.tc]),EM.sp(t,{border:"none",width:"100%",margin:"0px",padding:"0px",position:"relative",visibility:"visible",backgroundColor:"transparent",display:"block",overflow:"visible"}),t}}]),e}(),RF=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(){return this._build()}},{key:"_build",value:function(){var e,t=document.createElement("iframe");return t.id=AT.rid,t.src=AT.sr,t.width="0",t.height="0",(e=t.sandbox).add.apply(e,_toConsumableArray(AT.sb)),EM.sp(t,{display:"none"},!0),EM.sa(t,{allow:"fullscreen"}),t}}]),e}(),TF=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){return this._build(e)}},{key:"_build",value:function(e){var t,n=this._attr(e),r=document.createElement("iframe");return r.id=n.id,r.src=n.src,r.width=n.w,(t=r.sandbox).add.apply(t,_toConsumableArray(AT.sb)),EM.sc(r,[AT.tc]),EM.sp(r,{border:"none"}),EM.sa(r,{allow:"fullscreen"}),r}},{key:"_attr",value:function(e){var t={id:AT.tid.replace(/__name__/g,"_"+EP.key),l:window.navigator?window.navigator.language:"en-US",w:"100%"};return t.src=AT.ss,t.src+="?lang="+t.l,t.src+="&uri="+encodeURI(window.location.href),e.length>0&&(t.src+="&rlid="+e),t}}]),e}(),TS=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"style",value:function(e){var t=document.createElement("style");return t.innerHTML="."+AT.tc+"{height:"+e+"px}@media(max-width:1200px){."+AT.tc+"{height:1620px}}@media(max-width:650px){."+AT.tc+"{height:1090px}}",EM.sa(t,{xPhase:AT.ts}),t}}]),e}(),EM=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"ge",value:function(e){return document.getElementById(e)}},{key:"ce",value:function(e){return null!==document.getElementById(e)}},{key:"sa",value:function(e,t){var n=function(e){return"-"+e.toLowerCase()};for(var r in t)e.setAttribute(r.replace(/[A-Z]/g,n),t[r])}},{key:"sc",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var l=a.value;e.classList.add(l)}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}},{key:"sp",value:function(e,t){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],r=function(e){return"-"+e.toLowerCase()};for(var i in t)n?e.style.setProperty(i.replace(/[A-Z]/g,r),t[i],"important"):e.style.setProperty(i.replace(/[A-Z]/g,r),t[i])}}]),e}(),AT=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"tid",get:function(){return"tswift__name__"}},{key:"rid",get:function(){return"me-recommend"}},{key:"tc",get:function(){return"me-ticket-show"}},{key:"ts",get:function(){return"t-assemble"}},{key:"an",get:function(){return"anchor"}},{key:"pi",get:function(){return"me-ticket__load"}},{key:"ss",get:function(){return"https://me-ticket.com/ticket/show"}},{key:"sr",get:function(){return"https://me-recommend.com/iframe"}},{key:"sb",get:function(){return["allow-forms","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"]}}]),e}();